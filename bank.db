CREATE TABLE accounts (
	id INTEGER PRIMARY KEY AUTOINCREMENT,
	name TEXT NOT NULL,
	balance REAL NOT NULL DEFAULT 0
);

CREATE TABLE transactions (
	id INTEGER PRIMARY KEY AUTOINCREMENT,
	type TEXT NOT NULL DEFAULT 'transfer',
	from_account INTEGER,
	to_account INTEGER,
	amount REAL NOT NULL CHECK(amount > 0),
	timestamp DATETIME DEFAULT CURRENT_TIMESTAMP,
	FOREIGN KEY(from_account) REFERENCES accounts(id),
	FOREIGN KEY(to_account) REFERENCES accounts(id),
	CHECK(from_account IS NOT NULL OR to_account IS NOT NULL)
);
